"""
Financial Document Specific Prompts

금융 문서의 이미지 분석을 위한 특화된 프롬프트
"""

FINANCIAL_PROMPTS = {
    "general": """
이 이미지는 금융 보안 관련 문서의 일부입니다.
이미지의 내용을 상세히 설명해주세요. 다음 사항을 포함해주세요:
1. 이미지의 주요 내용
2. 텍스트가 있다면 정확히 읽어주세요
3. 숫자나 데이터가 있다면 구체적으로 명시해주세요
4. 금융 또는 보안 관련 용어가 있다면 강조해주세요
한국어로 답변해주세요.
""",
    
    "chart": """
이 차트/그래프를 분석해주세요:
1. 차트 유형 (막대, 선, 파이 등)
2. X축과 Y축 레이블 및 단위
3. 주요 데이터 포인트와 값
4. 추세나 패턴
5. 특이사항이나 이상치
6. 차트의 제목이나 캡션
금융 분석 관점에서 중요한 정보를 강조해주세요.
한국어로 답변해주세요.
""",
    
    "table": """
이 테이블의 구조와 내용을 설명해주세요:
1. 테이블 헤더 (열 제목)
2. 각 행의 주요 데이터
3. 수치 데이터와 단위
4. 합계나 평균 등 집계 데이터
5. 테이블의 제목이나 설명
가능하면 마크다운 테이블 형식으로도 표현해주세요.
한국어로 답변해주세요.
""",
    
    "diagram": """
이 다이어그램/플로차트를 설명해주세요:
1. 다이어그램의 구성 요소
2. 요소 간의 관계나 흐름
3. 각 단계나 프로세스 설명
4. 화살표나 연결선의 의미
5. 중요한 의사결정 포인트
6. 보안이나 규제 관련 요소
프로세스 흐름을 순서대로 설명해주세요.
한국어로 답변해주세요.
""",
    
    "text": """
이 이미지의 텍스트를 정확히 읽어주세요:
1. 모든 텍스트를 OCR로 추출
2. 제목, 본문, 각주 구분
3. 특수 문자나 기호 포함
4. 강조된 텍스트 표시 (굵은 글씨, 밑줄 등)
5. 문단 구조 유지
원문 그대로 텍스트를 추출해주세요.
한국어 텍스트는 정확히 읽어주세요.
""",
    
    "security": """
이 이미지는 금융 보안 가이드라인 문서의 일부입니다.
다음 보안 관련 요소를 중점적으로 분석해주세요:
1. 보안 위협이나 취약점
2. 보안 대책이나 가이드라인
3. 규제 요구사항
4. 리스크 레벨이나 중요도
5. 체크리스트나 검증 항목
보안 전문가 관점에서 중요한 정보를 강조해주세요.
한국어로 답변해주세요.
""",
    
    "formula": """
이 수식이나 계산식을 설명해주세요:
1. 수식의 구성 요소
2. 변수와 상수의 의미
3. 계산 과정
4. 결과의 해석
5. 금융 분야에서의 활용
LaTeX 형식으로도 수식을 표현해주세요.
한국어로 설명해주세요.
"""
}

def get_financial_prompt(image_type: str, context: str = "") -> str:
    """
    이미지 유형과 컨텍스트에 맞는 프롬프트 생성
    
    Args:
        image_type: 이미지 유형
        context: 추가 컨텍스트
        
    Returns:
        완성된 프롬프트
    """
    base_prompt = FINANCIAL_PROMPTS.get(image_type, FINANCIAL_PROMPTS["general"])
    
    if context:
        return f"{base_prompt}\n\n추가 컨텍스트: {context}"
    
    return base_prompt