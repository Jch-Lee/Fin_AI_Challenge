# 텍스트 추출 방식 비교 실험 보고서

**실험 일시**: 2025-08-12T22:59:35.872478
**대상 파일**: 금융분야 AI 보안 가이드라인.pdf

## 1. 실험 개요

본 실험은 PDF 문서에서 텍스트를 추출하는 두 가지 방식을 비교합니다:
- **기존 방식 (PyMuPDF)**: 텍스트와 테이블 구조만 추출
- **VL 방식 (Qwen2.5-VL)**: 이미지, 차트, 다이어그램 설명 포함

## 2. 정량적 비교

### 2.1 추출된 콘텐츠 양
| 메트릭 | PyMuPDF | Vision-Language | 차이 | 증가율 |
|--------|---------|-----------------|------|--------|
| 문자 수 | 32,140 | 47,999 | +15,859 | +49.3% |
| 토큰 수 | 15,647 | 22,456 | +6,809 | +43.5% |
| 단어 수 | 6,706 | 10,669 | +3,963 | +59.1% |
| 청크 수 | 79 | 140 | +61 | +77.2% |

### 2.2 성능 비교
| 메트릭 | PyMuPDF | Vision-Language | 차이 |
|--------|---------|-----------------|------|
| 처리 시간 (초) | 26.17 | 13.30 | +-12.86 |
| 메모리 사용 (MB) | 226.3 | 11.7 | +-214.6 |

### 2.3 시각적 콘텐츠 분석
- **시각적 콘텐츠가 있는 페이지**: 37개 / 56개
- **발견된 이미지**: 42개
- **발견된 테이블**: 19개
- **총 시각적 요소**: 61개

## 3. RAG 검색 품질 비교

### 3.1 테스트 쿼리 결과
| 쿼리 | PyMuPDF 점수 | VL 점수 | 개선도 |
|------|-------------|---------|--------|
| AI 모델의 보안 위협 | 1.00 | 1.00 | +0.0% |
| 금융 데이터 처리 절차 | 1.00 | 1.00 | +0.0% |
| 리스크 평가 체크리스트 | 0.77 | 0.77 | +0.0% |
| 보안 아키텍처 다이어그램 | 0.77 | 0.77 | +0.0% |
| 성능 지표와 그래프 | 0.43 | 0.77 | +76.9% |

**평균 검색 품질 개선**: +15.4%

## 4. 페이지별 상세 분석

### 주요 차이가 발생한 페이지 (상위 5개)
| 페이지 | 이미지 | 테이블 | 차트 | 문자 차이 | VL 추가 정보 |
|--------|--------|--------|------|-----------|--------------|
| 5 | ✓ | ✗ | ✗ | +835 | 없음 |
| 11 | ✓ | ✗ | ✗ | +835 | 없음 |
| 25 | ✓ | ✗ | ✗ | +835 | 없음 |
| 1 | ✓ | ✗ | ✗ | +789 | 테이블 구조 설명 |
| 38 | ✓ | ✗ | ✗ | +789 | 테이블 구조 설명 |

## 5. 장단점 분석

### 5.1 PyMuPDF 방식
**장점:**
- ✅ 빠른 처리 속도 (평균 26.17초)
- ✅ 낮은 메모리 사용량 (226.3MB)
- ✅ 안정적이고 검증된 텍스트 추출
- ✅ 외부 모델 의존성 없음

**단점:**
- ❌ 이미지 내 텍스트/정보 추출 불가
- ❌ 차트/그래프의 의미 파악 불가
- ❌ 복잡한 레이아웃 해석 제한적

### 5.2 Vision-Language 모델 방식
**장점:**
- ✅ 이미지/차트/다이어그램 설명 포함 (+49.3% 정보량)
- ✅ RAG 검색 품질 향상 (+15.4%)
- ✅ 시각적 콘텐츠의 의미 해석 가능
- ✅ 더 풍부한 컨텍스트 제공

**단점:**
- ❌ 처리 시간 증가 (+-12.86초)
- ❌ 높은 메모리 요구사항 (+-214.6MB)
- ❌ GPU 필요 (모델 추론)
- ❌ 모델 로딩 오버헤드

## 6. 권장사항

### 6.1 사용 시나리오별 권장
| 시나리오 | 권장 방식 | 이유 |
|----------|-----------|------|
| 대량 문서 처리 | PyMuPDF | 빠른 속도와 효율성 |
| 금융 보고서 분석 | VL 모델 | 차트/그래프 해석 중요 |
| 실시간 처리 | PyMuPDF | 낮은 지연시간 |
| 정밀 분석 | VL 모델 | 완전한 정보 추출 |
| 리소스 제한 환경 | PyMuPDF | 낮은 메모리/CPU 사용 |

### 6.2 하이브리드 접근법
1. **선택적 VL 처리**: 시각적 콘텐츠가 있는 페이지만 VL 모델 사용
2. **캐싱 전략**: VL 처리 결과를 캐싱하여 재사용
3. **비동기 처리**: 백그라운드에서 VL 처리 수행
4. **임계값 기반**: 중요도가 높은 문서만 VL 처리

## 7. 결론

Vision-Language 모델을 활용한 텍스트 추출 방식은 기존 PyMuPDF 방식 대비 **49.3%** 더 많은 정보를 추출하며, RAG 검색 품질을 **15.4%** 향상시킵니다. 
특히 시각적 콘텐츠가 많은 금융 문서에서 효과적입니다.

다만, 처리 시간과 리소스 사용량이 증가하므로 사용 시나리오에 따라 
적절한 방식을 선택하거나 하이브리드 접근법을 고려해야 합니다.