# í”„ë¡œì íŠ¸ ìµœì¢… í˜„í™© - 2025ë…„ 9ì›” 5ì¼ (í”„ë¡œì íŠ¸ ì™„ë£Œ)

## ğŸ† ìµœì¢… ì„±ê³¼ ìš”ì•½

### í”„ë¡œì íŠ¸ ê°œìš”
- **í”„ë¡œì íŠ¸ëª…**: Financial Security AI Competition
- **ê¸°ê°„**: 2025.08.01 â€“ 2025.09.05 (5ì£¼)
- **ìƒíƒœ**: âœ… **ì™„ë£Œ**
- **ìµœì¢… ì ìˆ˜**: **0.59** (ëŒ€íšŒ í‰ê°€ ê¸°ì¤€)

### í•µì‹¬ ë‹¬ì„± ì§€í‘œ
| ì§€í‘œ | ëª©í‘œ | ë‹¬ì„± | ê°œì„ ìœ¨ | ìƒíƒœ |
|------|------|------|--------|------|
| **ìµœì¢… ì ìˆ˜** | - | **0.59** | - | âœ… |
| **ì²˜ë¦¬ ì‹œê°„** | 270ë¶„ | **49ë¶„** | 82% ë‹¨ì¶• | âœ… |
| **ë©”ëª¨ë¦¬ ì‚¬ìš©** | 24GB | **10.7GB** | 55% ì ˆê° | âœ… |
| **ì¶”ë¡  ì†ë„** | 31.5ì´ˆ/ë¬¸ì œ | **5.75ì´ˆ** | 82% í–¥ìƒ | âœ… |
| **ë°ì´í„° ìƒì„±** | - | **3,000ê°œ** | 100% ì„±ê³µ | âœ… |
| **ì œì¶œ íŒŒì¼** | 1ê°œ | **6ê°œ** | - | âœ… |

## ğŸ“Š í”„ë¡œì íŠ¸ ì§„í™” íƒ€ì„ë¼ì¸

```
ë‹¨ê³„ë³„ ì§„í–‰ë¥  ë° ì£¼ìš” ì„±ê³¼

8/12 (35%) â†’ 8/14 (40%) â†’ 8/15 (45%) â†’ 8/20 (60%) â†’ 8/23 (80%) â†’ 9/5 (100%)
    â†“            â†“            â†“            â†“            â†“            â†“
[Week 1]     [Week 2]      [Week 2]     [Week 3]     [Week 3]     [Week 5]
RAG êµ¬ì¶•    Vision í†µí•©   ì²­í‚¹ ìµœì í™”   ë…ë¦½ì„ íƒ    8-bit ì™„ì„±   DistiLLM-2
                          Reranking     ëŒíŒŒêµ¬      í•©ì„±ë°ì´í„°    ìµœì¢… ì™„ì„±
                                       ì ìˆ˜:0.55    ì ìˆ˜:0.579    ì ìˆ˜:0.59
```

## ğŸ¯ ìµœì¢… ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì™„ì„±ëœ íŒŒì´í”„ë¼ì¸
```
ì§ˆë¬¸ ì…ë ¥ (515ê°œ)
    â†“
ì§ˆë¬¸ ë¶„ë¥˜ (is_multiple_choice)
    â”œâ”€â”€ ê°ê´€ì‹: ìˆ«ì ì„ íƒì§€ 2ê°œ ì´ìƒ
    â””â”€â”€ ì£¼ê´€ì‹: ì„ íƒì§€ ì—†ìŒ
    â†“
í•˜ì´ë¸Œë¦¬ë“œ RAG ê²€ìƒ‰
    â”œâ”€â”€ BM25 ê²€ìƒ‰ (Kiwi í˜•íƒœì†Œ ë¶„ì„)
    â”‚   â””â”€â”€ ìƒìœ„ 3ê°œ ë…ë¦½ ì„ íƒ
    â””â”€â”€ FAISS ê²€ìƒ‰ (KURE-v1 ì„ë² ë”©)
        â””â”€â”€ ìƒìœ„ 3ê°œ ë…ë¦½ ì„ íƒ
    â†“
6ê°œ ì»¨í…ìŠ¤íŠ¸ ê²°í•© (ì¤‘ë³µ í—ˆìš©)
    â†“
Qwen2.5-7B-Instruct (8-bit ì–‘ìí™”)
    â”œâ”€â”€ Temperature: 0.05
    â”œâ”€â”€ do_sample: False
    â””â”€â”€ max_new_tokens: 32/256
    â†“
ë‹µë³€ í›„ì²˜ë¦¬ ë° ì •ì œ
    â†“
ì œì¶œ íŒŒì¼ ìƒì„± (CSV)
```

### DistiLLM-2 Knowledge Distillation
```
Qwen2.5-14B-Instruct (Teacher)
    â†“
3,000ê°œ í•©ì„± Q&A ë°ì´í„° ìƒì„±
    â†“
DistiLLM-2 Contrastive Learning
    â†“
Qwen2.5-7B-Instruct (Student)
    â†“
ìµœì¢… ì¶”ë¡  ëª¨ë¸
```

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ ë° í˜ì‹ 

### 1. í•µì‹¬ ê¸°ìˆ  êµ¬ì„±
- **LLM**: Qwen2.5-7B-Instruct (8-bit ì–‘ìí™”)
- **Teacher**: Qwen2.5-14B-Instruct (í•©ì„± ë°ì´í„°ìš©)
- **Vision**: Qwen2.5-VL-7B-Instruct (PDF ì²˜ë¦¬)
- **ì„ë² ë”©**: KURE-v1 (1024ì°¨ì›, í•œêµ­ì–´ íŠ¹í™”)
- **ê²€ìƒ‰**: BM25 (Kiwi) + FAISS (GPU ê°€ì†)
- **Distillation**: DistiLLM-2 (ICML 2025 Oral)

### 2. ì£¼ìš” ê¸°ìˆ  í˜ì‹ 

#### 2.1 í•˜ì´ë¸Œë¦¬ë“œ RAG ë…ë¦½ ì„ íƒ
- **ê¸°ì¡´**: ê°€ì¤‘ì¹˜ í†µí•© (0.7*BM25 + 0.3*Vector)
- **í˜ì‹ **: ê° ë°©ë²•ì—ì„œ Top-3 ë…ë¦½ ì„ íƒ
- **íš¨ê³¼**: 19.6% ì„±ëŠ¥ í–¥ìƒ (0.46 â†’ 0.55)

#### 2.2 8-bit ì–‘ìí™” ìµœì í™”
- **ë©”ëª¨ë¦¬**: 28GB â†’ 10.7GB (62% ì ˆê°)
- **ì†ë„**: ì„±ëŠ¥ ì €í•˜ ìµœì†Œí™”
- **ì•ˆì •ì„±**: 100% ì¶”ë¡  ì„±ê³µë¥ 

#### 2.3 Vision ëª¨ë¸ í†µí•©
- **ê°œì„ **: PyMuPDF ëŒ€ë¹„ 41.2% í’ˆì§ˆ í–¥ìƒ
- **ì²˜ë¦¬**: 73ê°œ PDFì˜ í‘œ/ì°¨íŠ¸ ì™„ë²½ í…ìŠ¤íŠ¸í™”
- **ê²°ê³¼**: 8,756ê°œ ê³ í’ˆì§ˆ ì²­í¬ ìƒì„±

#### 2.4 ì²­í‚¹ ìµœì í™”
- **ì‹¤í—˜**: 500ì â†’ 1,000ì â†’ 2,300ì
- **ìµœì ê°’**: 2,300ì (4.6ë°° ì¦ê°€)
- **íš¨ê³¼**: ì»¨í…ìŠ¤íŠ¸ ì™„ì „ì„± ê·¹ëŒ€í™”

## ğŸ“ˆ ì„±ëŠ¥ ë©”íŠ¸ë¦­ ìƒì„¸

### ì¶”ë¡  ì„±ëŠ¥
```python
# ìµœì¢… ì„¤ì •ê°’
temperature = 0.05      # ë§¤ìš° ë³´ìˆ˜ì  (ê¸°ì¡´ 0.1 â†’ 0.05)
top_p = 0.9            # ì œí•œì  ìƒ˜í”Œë§
top_k = 5              # ìƒìœ„ 5ê°œë§Œ
do_sample = False      # ê²°ì •ë¡ ì  ìƒì„±
repetition_penalty = 1.1
max_new_tokens = 32    # ê°ê´€ì‹
max_new_tokens = 256   # ì£¼ê´€ì‹
```

### ì²˜ë¦¬ í†µê³„
- **í‰ê·  ì²˜ë¦¬ ì†ë„**: 5.75ì´ˆ/ì§ˆë¬¸
- **ì „ì²´ ì²˜ë¦¬ ì‹œê°„**: 49ë¶„ (515ë¬¸ì œ)
- **GPU ë©”ëª¨ë¦¬ ì‚¬ìš©**: 10.7GB (í”¼í¬)
- **CPU ë©”ëª¨ë¦¬**: 16GB
- **ë°°ì¹˜ í¬ê¸°**: 1 (ì•ˆì •ì„± ìš°ì„ )

### RAG ì‹œìŠ¤í…œ í†µê³„
- **ì›ë³¸ ë¬¸ì„œ**: 73ê°œ PDF
- **ì´ ì²­í¬ ìˆ˜**: 8,756ê°œ
- **í‰ê·  ì²­í¬ í¬ê¸°**: 764.6ì
- **ì²­í¬ í¬ê¸° ë²”ìœ„**: 50-2,298ì
- **ì´ ë¬¸ì ìˆ˜**: 6,697,138ì
- **ì¸ë±ìŠ¤ í¬ê¸°**:
  - BM25: 42MB (pkl)
  - FAISS: 156MB (index)

## ğŸš€ ì£¼ìš” ë§ˆì¼ìŠ¤í†¤

### Week 1 (8/1 - 8/12): ê¸°ë°˜ êµ¬ì¶•
- âœ… í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ê³„
- âœ… Qwen2.5 ëª¨ë¸ ì„ ì • ë° ê²€ì¦
- âœ… RAG ì‹œìŠ¤í…œ ê¸°ì´ˆ êµ¬í˜„
- âœ… KURE-v1 ì„ë² ë”© í†µí•©

### Week 2 (8/13 - 8/15): ê¸°ìˆ  í˜ì‹ 
- âœ… Vision V2 (Qwen2.5-VL) í†µí•©
- âœ… Kiwi í˜•íƒœì†Œ ë¶„ì„ê¸° ë„ì…
- âœ… ê³„ì¸µì  ì²­í‚¹ ì‹œìŠ¤í…œ êµ¬í˜„
- âœ… Reranking ì‹œìŠ¤í…œ ì„¤ê³„

### Week 3 (8/16 - 8/23): ëŒíŒŒêµ¬ì™€ ìµœì í™”
- âœ… ë…ë¦½ ì„ íƒ ë°©ì‹ ë°œê²¬ (ì ìˆ˜ 0.55)
- âœ… 8-bit ì–‘ìí™” êµ¬í˜„
- âœ… ì²« ì œì¶œ (ì ìˆ˜ 0.579)
- âœ… 3,000ê°œ í•©ì„± ë°ì´í„° ìƒì„±

### Week 4 (8/24 - 8/31): ë°ì´í„° ìƒì„± ë° í•™ìŠµ
- âœ… Teacher ëª¨ë¸ ì‘ë‹µ ìƒì„±
- âœ… DistiLLM-2 í”„ë ˆì„ì›Œí¬ í†µí•©
- âœ… Contrastive Learning êµ¬í˜„

### Week 5 (9/1 - 9/5): ìµœì¢… ì™„ì„±
- âœ… Knowledge Distillation ì™„ë£Œ
- âœ… 6ê°œ ì œì¶œ íŒŒì¼ ìƒì„±
- âœ… ìµœì¢… ì ìˆ˜ 0.59 ë‹¬ì„±
- âœ… í”„ë¡œì íŠ¸ ë¬¸ì„œí™” ì™„ë£Œ

## ğŸ’¡ í•µì‹¬ êµí›ˆ ë° ì¸ì‚¬ì´íŠ¸

### ê¸°ìˆ ì  êµí›ˆ
1. **ê²€ìƒ‰ ì „ëµ**: ë…ë¦½ ì„ íƒ > ê°€ì¤‘ì¹˜ í†µí•© (ì‹¤ì¦ì  ê²€ì¦)
2. **ì²­í‚¹ í¬ê¸°**: 2,300ìê°€ ìµœì  (ë„ë©”ì¸ íŠ¹ì„± ê³ ë ¤)
3. **ì–‘ìí™”**: 8-bitê°€ ì„±ëŠ¥-íš¨ìœ¨ ìµœì ì 
4. **í”„ë¡¬í”„íŠ¸**: ê·¹ë„ì˜ ì œì•½ì´ ì¼ê´€ì„± í–¥ìƒ
5. **í˜•íƒœì†Œ ë¶„ì„**: Kiwiê°€ í•œêµ­ì–´ RAGì— í•„ìˆ˜

### í”„ë¡œì íŠ¸ ê´€ë¦¬ êµí›ˆ
1. **ë¹ ë¥¸ ë°˜ë³µ**: 3ì£¼ê°„ 5ë²ˆì˜ major pivot ì„±ê³µ
2. **ì‹¤ì¦ ìš°ì„ **: ì´ë¡ ë³´ë‹¤ ì‹¤ì œ ì ìˆ˜ê°€ ì¤‘ìš”
3. **ì œì•½ì´ í˜ì‹ **: 24GB ì œí•œì´ íš¨ìœ¨ì  ì„¤ê³„ ìœ ë„
4. **ë¬¸ì„œí™”**: ì§€ì†ì  ê¸°ë¡ì´ ì˜ì‚¬ê²°ì • ê°œì„ 

### ì˜ì‚¬ê²°ì • ê¸°ë¡

| ì‹œì  | ê²°ì •ì‚¬í•­ | ì„ íƒ | ë°°ì œ | ê²°ê³¼ |
|------|---------|------|------|------|
| 8/12 | ëª¨ë¸ ì„ ì • | Qwen2.5 | Mistral, Llama | âœ… ì„±ê³µ |
| 8/14 | Vision í†µí•© | Qwen2.5-VL | PyMuPDF only | âœ… 41.2% ê°œì„  |
| 8/15 | ì²­í‚¹ í¬ê¸° | 2,300ì | 500ì, 1,000ì | âœ… ìµœì ê°’ |
| 8/20 | ê²€ìƒ‰ ë°©ì‹ | ë…ë¦½ ì„ íƒ | ê°€ì¤‘ì¹˜ í†µí•© | âœ… 19.6% í–¥ìƒ |
| 8/23 | ì–‘ìí™” | 8-bit | 4-bit, 16-bit | âœ… ê· í˜•ì  |
| 9/5 | Distillation | DistiLLM-2 | ê¸°íƒ€ ë°©ë²• | âœ… ìµœì‹  ê¸°ë²• |

## ğŸ“ ìµœì¢… í”„ë¡œì íŠ¸ êµ¬ì¡°

```
Fin_AI_Challenge/
â”œâ”€â”€ scripts/                                      # ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ generate_submission_standalone.py        # â­ ë©”ì¸ ì¶”ë¡  (ë…ë¦½ ì‹¤í–‰)
â”‚   â”œâ”€â”€ generate_submission_remote_8bit_fixed.py # ì›ê²© ì„œë²„ìš©
â”‚   â”œâ”€â”€ generate_bulk_3000.py                   # í•©ì„± ë°ì´í„° ìƒì„±
â”‚   â””â”€â”€ build_hybrid_rag_2300.py               # RAG êµ¬ì¶•
â”œâ”€â”€ distillm-2/                                 # DistiLLM-2 í”„ë ˆì„ì›Œí¬
â”‚   â”œâ”€â”€ generate/
â”‚   â”‚   â”œâ”€â”€ generate_teacher_with_rag.py       # Teacher ì¶”ë¡ 
â”‚   â”‚   â””â”€â”€ generate_student_baseline.py       # Student ì¶”ë¡ 
â”‚   â””â”€â”€ src/
â”‚       â””â”€â”€ run_distillm.py                    # Distillation í•™ìŠµ
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ rag/                                   # RAG ì¸ë±ìŠ¤
â”‚   â”‚   â”œâ”€â”€ chunks_2300.json                   # 8,756ê°œ ì²­í¬
â”‚   â”‚   â”œâ”€â”€ bm25_index_2300.pkl               # BM25 ì¸ë±ìŠ¤
â”‚   â”‚   â”œâ”€â”€ faiss_index_2300.index            # FAISS ì¸ë±ìŠ¤
â”‚   â”‚   â””â”€â”€ metadata_2300.json                # ë©”íƒ€ë°ì´í„°
â”‚   â”œâ”€â”€ synthetic_questions/                   # í•©ì„± ë°ì´í„°
â”‚   â”‚   â””â”€â”€ combined_3000_questions.csv       # 3,000ê°œ Q&A
â”‚   â””â”€â”€ teacher_responses_3000/               # Teacher ì‘ë‹µ
â”œâ”€â”€ docs/                                      # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”‚   â”œâ”€â”€ CURRENT_STATUS_2025_09_05_FINAL.md    # â­ ìµœì¢… í˜„í™© (ë³¸ ë¬¸ì„œ)
â”‚   â”œâ”€â”€ CURRENT_STATUS_2025_08_23.md
â”‚   â”œâ”€â”€ performance_record.md
â”‚   â””â”€â”€ competition_environment_setup.md
â”œâ”€â”€ submissions/                               # ì œì¶œ íŒŒì¼
â”‚   â”œâ”€â”€ submission_8bit_full_context_*.csv
â”‚   â”œâ”€â”€ submission_distilled_final.csv
â”‚   â””â”€â”€ submission_distilled_v2_final.csv
â””â”€â”€ README.md                                  # í”„ë¡œì íŠ¸ ê°œìš”
```

## âœ… ëŒ€íšŒ ìš”êµ¬ì‚¬í•­ ì¶©ì¡± í˜„í™©

| ìš”êµ¬ì‚¬í•­ | ì¡°ê±´ | ë‹¬ì„± í˜„í™© | ì¦ê±° |
|---------|------|----------|------|
| **ë‹¨ì¼ ëª¨ë¸** | ì•™ìƒë¸” ë¶ˆê°€ | Qwen2.5-7B ë‹¨ì¼ | âœ… |
| **ë¼ì´ì„ ìŠ¤** | Apache 2.0 | Apache 2.0 ì¤€ìˆ˜ | âœ… |
| **ì˜¤í”„ë¼ì¸** | ì¸í„°ë„· ì—†ìŒ | standalone.py | âœ… |
| **ë©”ëª¨ë¦¬** | 24GB VRAM | 10.7GB ì‚¬ìš© | âœ… |
| **ì‹œê°„** | 4.5ì‹œê°„ ì´ë‚´ | 49ë¶„ ì†Œìš” | âœ… |
| **PyTorch** | v2.1.0 | v2.1.0 ì‚¬ìš© | âœ… |

## ğŸ¯ ìµœì¢… ì œì¶œë¬¼

### ì œì¶œ íŒŒì¼ ëª©ë¡
1. **submission_8bit_full_context_20250823_233908.csv** - 8-bit ì–‘ìí™” ë²„ì „
2. **submission_distilled_final.csv** - DistiLLM-2 ìµœì¢… ë²„ì „
3. **submission_distilled_v2_final.csv** - DistiLLM-2 ê°œì„  ë²„ì „
4. ì‹¤í—˜ ë²„ì „ 3ê°œ ì¶”ê°€

### ì¬í˜„ ê°€ëŠ¥ì„±
```bash
# í™˜ê²½ ì„¤ì •
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# ì¶”ë¡  ì‹¤í–‰
python scripts/generate_submission_standalone.py \
    --input_file test.csv \
    --output_file submission.csv \
    --data_dir ./data/rag
```

## ğŸ† í”„ë¡œì íŠ¸ ì™„ë£Œ ì„ ì–¸

**2025ë…„ 9ì›” 5ì¼**, 5ì£¼ê°„ì˜ ê¸ˆìœµë³´ì•ˆ AI ê²½ì§„ëŒ€íšŒ í”„ë¡œì íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.

### ìµœì¢… ì„±ê³¼
- âœ… ëŒ€íšŒ ëª¨ë“  ì œì•½ì‚¬í•­ ì¶©ì¡±
- âœ… ëª©í‘œ ì„±ëŠ¥ ëŒ€í­ ì´ˆê³¼ ë‹¬ì„± (5.5ë°°)
- âœ… 6ê°œ ì œì¶œ íŒŒì¼ ìƒì„± ì™„ë£Œ
- âœ… 3,000ê°œ ê³ í’ˆì§ˆ í•™ìŠµ ë°ì´í„° í™•ë³´
- âœ… DistiLLM-2 ìµœì‹  ê¸°ë²• ì ìš©
- âœ… ì™„ì „í•œ ë¬¸ì„œí™” ë° ì¬í˜„ ê°€ëŠ¥ì„± í™•ë³´

### ê¸°ìˆ ì  ê¸°ì—¬
1. **í•˜ì´ë¸Œë¦¬ë“œ RAG ë…ë¦½ ì„ íƒ ë°©ë²•ë¡ ** ì‹¤ì¦
2. **8-bit ì–‘ìí™” ì‹¤ìš©ì„±** ì…ì¦
3. **Vision ëª¨ë¸ í†µí•© íš¨ê³¼** ê²€ì¦
4. **DistiLLM-2 í•œêµ­ì–´ ì ìš©** ì„±ê³µ

---

**ì‘ì„±ì¼**: 2025-09-05  
**í”„ë¡œì íŠ¸ ìƒíƒœ**: âœ… **ì™„ë£Œ**  
**ìµœì¢… ì ìˆ˜**: **0.59**  
**ì‘ì„±ì**: AI ì—”ì§€ë‹ˆì–´ (ê°œì¸ ì°¸ê°€)