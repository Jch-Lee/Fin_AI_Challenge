# 프로젝트 개발 계획 및 우선순위

## 📅 개발 일정 (3주 스프린트)

### Week 1: 데이터 파이프라인 구축 (Epic 1)
**목표**: RAG 시스템 기반 및 학습 데이터 준비

#### Day 1-2: 데이터 수집 및 전처리
- [ ] 외부 데이터셋 다운로드 및 라이선스 검증
- [ ] PDF/HTML 파서 구현 및 테스트
- [ ] 한국어/영어 텍스트 정제 모듈 구현

#### Day 3-4: RAG 지식 베이스 구축
- [ ] 문서 청킹 및 임베딩 생성
- [ ] FAISS 인덱스 구축 및 최적화
- [ ] BM25 검색 통합

#### Day 5-7: 학습 데이터 생성
- [ ] Teacher Model 환경 설정
- [ ] Q&A 데이터셋 생성 (최소 5,000개)
- [ ] 데이터 품질 평가 및 필터링

### Week 2: 모델 학습 (Epic 2-3)
**목표**: Distill-M 2 학습 및 최적화

#### Day 8-10: Teacher-Student 응답 생성
- [ ] Teacher Model logits 생성
- [ ] Student Model 초기화 및 logits 생성
- [ ] 데이터 형식 변환 (TRL 호환)

#### Day 11-13: Distill-M 2 학습
- [ ] DistiLLMTrainer 설정 및 학습
- [ ] 하이퍼파라미터 튜닝
- [ ] 중간 평가 및 체크포인트 저장

#### Day 14: 모델 최적화
- [ ] 4-bit 양자화 적용
- [ ] 추론 속도 최적화
- [ ] 메모리 사용량 최적화

### Week 3: 추론 시스템 및 최종화
**목표**: 완전한 추론 파이프라인 구축 및 제출 준비

#### Day 15-16: 추론 파이프라인 구축
- [ ] Question Classifier 구현
- [ ] Multi-Stage Retriever 통합
- [ ] Inference Orchestrator 구현

#### Day 17-18: 성능 검증 및 최적화
- [ ] 오프라인 환경 테스트
- [ ] 전체 파이프라인 성능 측정
- [ ] 병목 지점 개선

#### Day 19-21: 최종 제출 준비
- [ ] 최종 모델 평가
- [ ] submission.csv 생성 및 검증
- [ ] 제출 패키지 준비

## 🎯 우선순위 매트릭스

### P0 (Critical) - 필수 완료
1. **베이스라인 개선**: 현재 gemma-ko-7b 베이스라인 성능 초과
2. **오프라인 동작**: 인터넷 없이 완전한 추론 가능
3. **시간 제약 준수**: 4.5시간 내 전체 추론 완료
4. **메모리 제약 준수**: 24GB VRAM 이내 동작

### P1 (High) - 핵심 기능
1. **RAG 시스템**: 지식 검색 정확도 90% 이상
2. **Distill-M 2 학습**: Teacher-Student 지식 증류
3. **Question Classification**: 객관식/주관식 분류 정확도 95%+
4. **양자화**: 4-bit 양자화로 메모리 사용량 75% 감소

### P2 (Medium) - 성능 향상
1. **Multi-Stage Retrieval**: BM25 + FAISS 하이브리드 검색
2. **캐싱 시스템**: 반복 질문 처리 속도 향상
3. **배치 처리**: 처리량 3배 증가
4. **프롬프트 최적화**: 도메인별 프롬프트 템플릿

### P3 (Low) - 추가 개선
1. **앙상블 전략**: 단일 모델 제약 내에서 최적화
2. **후처리 로직**: 답변 품질 개선
3. **에러 핸들링**: Graceful fallback 메커니즘
4. **모니터링**: 실시간 성능 추적

## 📊 리스크 관리

### 주요 리스크 및 대응 방안

| 리스크 | 영향도 | 발생확률 | 대응 방안 |
|--------|--------|----------|-----------|
| GPU 메모리 초과 | 높음 | 중간 | 적극적 양자화, 배치 크기 조절 |
| 추론 시간 초과 | 높음 | 중간 | 캐싱, 병렬 처리, 코드 최적화 |
| Teacher Model 품질 | 중간 | 낮음 | 다양한 Teacher 모델 실험 |
| 데이터 부족 | 중간 | 중간 | 증강 기법, 외부 데이터 활용 |
| 오프라인 환경 이슈 | 높음 | 낮음 | 철저한 사전 테스트 |

## 🔄 일일 체크포인트

### 매일 확인 사항
- [ ] 코드 커밋 및 백업
- [ ] 성능 메트릭 기록
- [ ] 리스크 상황 점검
- [ ] 다음 날 작업 준비

### 주간 마일스톤
- **Week 1 완료**: 학습 데이터 5,000개+ 생성, FAISS 인덱스 구축
- **Week 2 완료**: 학습된 Student 모델, 양자화 완료
- **Week 3 완료**: 제출 가능한 완전한 시스템

## 💡 성공 지표

### 최소 목표 (MVP)
- 베이스라인 대비 10% 성능 향상
- 4.5시간 내 추론 완료
- 오프라인 환경 정상 동작

### 목표 성과
- 객관식 정확도: 85%+
- 주관식 ROUGE-L: 0.6+
- 추론 시간: 3시간 이내
- GPU 메모리: 20GB 이내

### 스트레치 목표
- 객관식 정확도: 90%+
- 주관식 ROUGE-L: 0.7+
- 추론 시간: 2시간 이내
- Top 10% 순위 진입